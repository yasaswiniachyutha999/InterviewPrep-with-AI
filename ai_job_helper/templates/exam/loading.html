{% extends "base.html" %}
{% block content %}
<div class="container mx-auto px-4 py-8 text-center">
    <h2 class="text-2xl font-bold mb-4">Generating Your Test...</h2>
    <p class="text-gray-600 mb-6">Please wait while we create a customized exam for {{ request.session.job_role }}</p>
    
    <div class="flex justify-center mb-8">
        <div class="spinner"></div>
    </div>

    <p class="text-sm text-gray-500">This may take a few moments</p>

    <style>
    .spinner {
        border: 8px solid #f3f3f3;
        border-top: 8px solid #3498db;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    </style>

    <script>
        // Automatically submit the form when the page loads
        window.onload = function() {
            document.getElementById('loadingForm').submit();
        }
    </script>

    <form id="loadingForm" method="GET" action="{% url 'exam_loading' %}" class="hidden">
        {% csrf_token %}
    </form>
</div>
{% endblock %}
